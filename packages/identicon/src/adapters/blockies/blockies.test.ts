import {Blockies} from './blockies'

const seed =
  'b04dc22991594170974bbbb5908cc50b48f236d680a9ebfe6c1d00f52f8f4813341943eb66dec48cfe7f3be5beec705b91300a07641e668ff19dfa2fbeccbfba'

describe('Blockies', () => {
  let blockie: Blockies

  beforeEach(() => {
    blockie = new Blockies({seed})
  })

  it('should generate a base64 image with defaults', () => {
    const base64Image = blockie.asBase64()
    expect(base64Image).toMatch(/^data:image\/svg\+xml;base64,/)
  })

  it('should generate a base64 image with custom size', () => {
    const base64Image = blockie.asBase64({size: 7, scale: 5})

    expect(base64Image).toBe(
      'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNSIgaGVpZ2h0PSIzNSI+PHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2ZhNTM4MCIgLz48cmVjdCB4PSI1IiB5PSIwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZmE1MzgwIiAvPjxyZWN0IHg9IjEwIiB5PSIwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjE1IiB5PSIwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjIwIiB5PSIwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjI1IiB5PSIwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZmE1MzgwIiAvPjxyZWN0IHg9IjMwIiB5PSIwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZmE1MzgwIiAvPjxyZWN0IHg9IjAiIHk9IjUiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiMwODMzYjIiIC8+PHJlY3QgeD0iNSIgeT0iNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2ZhNTM4MCIgLz48cmVjdCB4PSIxMCIgeT0iNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iIzA4MzNiMiIgLz48cmVjdCB4PSIxNSIgeT0iNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iIzA4MzNiMiIgLz48cmVjdCB4PSIyMCIgeT0iNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iIzA4MzNiMiIgLz48cmVjdCB4PSIyNSIgeT0iNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2ZhNTM4MCIgLz48cmVjdCB4PSIzMCIgeT0iNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iIzA4MzNiMiIgLz48cmVjdCB4PSIwIiB5PSIxMCIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2UxZjJmZiIgLz48cmVjdCB4PSI1IiB5PSIxMCIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2ZhNTM4MCIgLz48cmVjdCB4PSIxMCIgeT0iMTAiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNlMWYyZmYiIC8+PHJlY3QgeD0iMTUiIHk9IjEwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjIwIiB5PSIxMCIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2UxZjJmZiIgLz48cmVjdCB4PSIyNSIgeT0iMTAiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNmYTUzODAiIC8+PHJlY3QgeD0iMzAiIHk9IjEwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjAiIHk9IjE1IiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjUiIHk9IjE1IiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjEwIiB5PSIxNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2ZhNTM4MCIgLz48cmVjdCB4PSIxNSIgeT0iMTUiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNmYTUzODAiIC8+PHJlY3QgeD0iMjAiIHk9IjE1IiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZmE1MzgwIiAvPjxyZWN0IHg9IjI1IiB5PSIxNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2UxZjJmZiIgLz48cmVjdCB4PSIzMCIgeT0iMTUiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNlMWYyZmYiIC8+PHJlY3QgeD0iMCIgeT0iMjAiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNlMWYyZmYiIC8+PHJlY3QgeD0iNSIgeT0iMjAiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiMwODMzYjIiIC8+PHJlY3QgeD0iMTAiIHk9IjIwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZmE1MzgwIiAvPjxyZWN0IHg9IjE1IiB5PSIyMCIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iIzA4MzNiMiIgLz48cmVjdCB4PSIyMCIgeT0iMjAiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNmYTUzODAiIC8+PHJlY3QgeD0iMjUiIHk9IjIwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjMDgzM2IyIiAvPjxyZWN0IHg9IjMwIiB5PSIyMCIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2UxZjJmZiIgLz48cmVjdCB4PSIwIiB5PSIyNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2ZhNTM4MCIgLz48cmVjdCB4PSI1IiB5PSIyNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2UxZjJmZiIgLz48cmVjdCB4PSIxMCIgeT0iMjUiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNlMWYyZmYiIC8+PHJlY3QgeD0iMTUiIHk9IjI1IiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjIwIiB5PSIyNSIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2UxZjJmZiIgLz48cmVjdCB4PSIyNSIgeT0iMjUiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNlMWYyZmYiIC8+PHJlY3QgeD0iMzAiIHk9IjI1IiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZmE1MzgwIiAvPjxyZWN0IHg9IjAiIHk9IjMwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjUiIHk9IjMwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZTFmMmZmIiAvPjxyZWN0IHg9IjEwIiB5PSIzMCIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2ZhNTM4MCIgLz48cmVjdCB4PSIxNSIgeT0iMzAiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNmYTUzODAiIC8+PHJlY3QgeD0iMjAiIHk9IjMwIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiBmaWxsPSIjZmE1MzgwIiAvPjxyZWN0IHg9IjI1IiB5PSIzMCIgd2lkdGg9IjUiIGhlaWdodD0iNSIgZmlsbD0iI2UxZjJmZiIgLz48cmVjdCB4PSIzMCIgeT0iMzAiIHdpZHRoPSI1IiBoZWlnaHQ9IjUiIGZpbGw9IiNlMWYyZmYiIC8+PC9zdmc+',
    )
  })

  it('should generate a base64 image tiny seed', () => {
    blockie = new Blockies({seed: '0'})
    const base64Image = blockie.asBase64()
    expect(base64Image).toMatch(/^data:image\/svg\+xml;base64,/)
  })
})
